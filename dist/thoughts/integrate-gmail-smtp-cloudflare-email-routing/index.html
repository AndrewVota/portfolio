<!DOCTYPE html><html data-astro-cid-xsct23v3> <head><meta charset="utf-8"><meta name="viewport" content="width=device-width"><meta name="description" content="Andrew Vota's personal website."><link rel="icon" type="image/svg+xml" href="/favicon.png"><link rel="stylesheet" href="/styles/global.css"><title>Andrew Vota</title><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><!-- Umami analytics --><!-- <script
		async
		src="https://analytics.andrewvota.dev/script.js"
		data-website-id="d11b8f8b-a286-4f00-8679-8910dc51f5a1"></script> --><style>#--unocss--{layer:__ALL__}.astro-route-announcer{position:absolute;left:0;top:0;clip:rect(0 0 0 0);clip-path:inset(50%);overflow:hidden;white-space:nowrap;width:1px;height:1px}#--unocss-layer-start--__ALL__--{start:__ALL__}*,:before,:after{--un-rotate:0;--un-rotate-x:0;--un-rotate-y:0;--un-rotate-z:0;--un-scale-x:1;--un-scale-y:1;--un-scale-z:1;--un-skew-x:0;--un-skew-y:0;--un-translate-x:0;--un-translate-y:0;--un-translate-z:0;--un-ring-offset-shadow:0 0 rgb(0 0 0 / 0);--un-ring-shadow:0 0 rgb(0 0 0 / 0);--un-shadow-inset: ;--un-shadow:0 0 rgb(0 0 0 / 0);--un-ring-inset: ;--un-ring-offset-width:0px;--un-ring-offset-color:#fff;--un-ring-width:0px;--un-ring-color:rgb(147 197 253 / .5)}::backdrop{--un-rotate:0;--un-rotate-x:0;--un-rotate-y:0;--un-rotate-z:0;--un-scale-x:1;--un-scale-y:1;--un-scale-z:1;--un-skew-x:0;--un-skew-y:0;--un-translate-x:0;--un-translate-y:0;--un-translate-z:0;--un-ring-offset-shadow:0 0 rgb(0 0 0 / 0);--un-ring-shadow:0 0 rgb(0 0 0 / 0);--un-shadow-inset: ;--un-shadow:0 0 rgb(0 0 0 / 0);--un-ring-inset: ;--un-ring-offset-width:0px;--un-ring-offset-color:#fff;--un-ring-width:0px;--un-ring-color:rgb(147 197 253 / .5)}.px-0{padding-left:0;padding-right:0}.px-8{padding-left:2rem;padding-right:2rem}.py-36{padding-top:9rem;padding-bottom:9rem}.py-6{padding-top:1.5rem;padding-bottom:1.5rem}.my{margin-top:1rem;margin-bottom:1rem}.me{margin-inline-end:1rem}.hover\:bg-highlight:hover{background-color:var(--highlight)}.border-rd-2{border-radius:.5rem}.text-3{font-size:.75rem}.text-4{font-size:1rem}.text-5{font-size:1.25rem}.text-8{font-size:2rem}.text-primary{color:var(--primary)}.text-secondary{color:var(--secondary)}.font-300{font-weight:300}.font-400{font-weight:400}.font-500{font-weight:500}.lh-\[150\%\]{line-height:150%}.flex{display:flex}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.gap-12{gap:3rem}.gap-2{gap:.5rem}.gap-4{gap:1rem}.gap-6{gap:1.5rem}.h-6{height:1.5rem}.max-w-200{max-width:50rem}.w-6{width:1.5rem}.w-8\.1{width:2.025rem}.w-fit{width:fit-content}.w-full{width:100%}.justify-center{justify-content:center}.content-start{align-content:flex-start}.items-start{align-items:flex-start}.items-center{align-items:center}.self-stretch{align-self:stretch}#--unocss-layer-end--__ALL__--{end:__ALL__}
h1[data-astro-cid-xsct23v3]{margin:0}
</style><script type="module" src="/_astro/hoisted.4PK_pqbL.js"></script></head><link rel="stylesheet" href="/styles/markdown.css"><div class="flex w-full px-0 py-36 flex-col items-center" data-astro-cid-xsct23v3> <div class="flex max-w-200 w-full px-8 flex-col gap-12" data-astro-cid-xsct23v3> <nav class="flex w-full items-start content-start gap-6 24px flex-wrap"> <a href="/" class="text-4 text-secondary font-300">home</a> <a href="/about/" class="text-4 text-secondary font-300">about</a> <a href="/projects/" class="text-4 text-secondary font-300">projects</a> <a href="/thoughts/" class="text-4 text-secondary font-300">thoughts</a> </nav> <div class="flex flex-col justify-center items-start gap-4 self-stretch" data-astro-cid-xsct23v3> <h1 class="self-stretch text-8 font-400" data-astro-cid-xsct23v3>Integrating Gmail SMTP with Cloudflare Email Routing: A Guide</h1> <span class="text-secondary text-4 font-400" data-astro-cid-xsct23v3>December 26, 2023</span> </div> <div class="px-8" data-astro-cid-xsct23v3> <p>Ever wanted to manage your Cloudflare-routed emails directly through Gmail? It’s easier than you think! In this guide, I’ll walk you through the process step-by-step. Not only does this make email management more efficient, but it also adds a layer of professionalism to your communications. Let’s get started!</p>
<h1 id="step-1-fortify-your-google-account">Step 1: Fortify Your Google Account</h1>
<p>First things first, let’s secure your account. <a href="https://safety.google/authentication/">Activate two-factor authentication</a> for your Google account. This isn’t just about following best practices for security - it’s also essential for ensuring everything functions smoothly later on.</p>
<h1 id="step-2-generating-an-app-password-for-email">Step 2: Generating an App Password for Email</h1>
<p>Time to <a href="https://myaccount.google.com/apppasswords">set up an App Password</a>. This is like creating a secret handshake between your email applications. Go to your Google account settings and generate an App Password specifically for the Mail app. Remember to name it Mail and save the new password - you’ll need it soon!</p>
<h1 id="step-3-make-your-cloudflare-email-feel-at-home-in-gmail">Step 3: Make Your Cloudflare Email Feel at Home in Gmail</h1>
<p>In Gmail, navigate to:</p>
<p><code>Settings ➔ See all settings ➔ Accounts and Import ➔ Send mail as</code></p>
<p>Here, you’ll invite your Cloudflare-routed email to the Gmail party. Just add your Cloudflare email address and uncheck the “Treat as an alias” box to give it proper recognition.</p>
<h1 id="step-4-the-nitty-gritty-of-smtp-server-setup">Step 4: The Nitty-Gritty of SMTP Server Setup</h1>
<p>Now, let’s get technical but keep it simple:</p>
<ul>
<li>SMTP Server: <code>smtp.gmail.com</code></li>
<li>Port: <code>587</code></li>
<li>Username: <code>&#x3C;YOUR_FULL_GMAIL_ADDRESS></code></li>
<li>Password: <code>&#x3C;APP_PASSWORD_FROM_STEP_2></code></li>
<li>TLS: <code>Enabled</code></li>
</ul>
<p>After adding these details, a verification email will wing its way to you. Click the link in that email to confirm.</p>
<h1 id="step-5-configuring-spf-records--dmarc-policy-in-cloudflare">Step 5: Configuring SPF Records &#x26; DMARC Policy in Cloudflare</h1>
<p>In your Cloudflare DNS settings, add a new record:</p>
<ul>
<li>Type: <code>TXT</code></li>
<li>Name: <code>@</code></li>
<li>TTL: <code>auto</code></li>
<li>Content: <code>"v=spf1 include:_spf.mx.cloudflare.net include:_spf.google.com ~all"</code></li>
</ul>
<p>Then, under Cloudflare’s Email section, activate your DMARC policy and ensure the default is correctly set with <code>p=none</code> inside the content. This helps prevent your emails from being mistaken as unwanted guests (aka spam).</p>
<h1 id="optional-set-default-and-use-your-google-profile-picture-as-your-new-emails-profile-picture">(Optional) Set Default and Use your Google Profile Picture as Your New Email’s Profile Picture</h1>
<h2 id="step-1-add-cloudflare-routed-email-address">Step 1: Add Cloudflare-Routed Email Address</h2>
<p><a href="https://myaccount.google.com/email">Navigate to Google’s email settings</a> and find the <code>Alternate Emails</code> section.</p>
<p>Click <code>Add alternate email</code> and input your Cloudflare-routed email address.</p>
<h2 id="step-2-confirm-your-new-identity">Step 2: Confirm Your New Identity</h2>
<p>A confirmation email from Google will appear in your inbox. Open it and follow the prompt to finalize adding your alternate email address.</p>
<h2 id="step-3-set-new-default">Step 3: Set New Default</h2>
<p>In Gmail, head to:</p>
<p><code>Settings ➔ See all settings ➔ Accounts and Import ➔ Send mail as</code></p>
<p>Set your Cloudflare email as the default. This step decides which email identity takes center stage when you compose messages.</p>
<p>(Here you will also see a few more settings you <em>may</em> or <em>may not</em> want to change. This includes always replying from your new Cloudflare domain instead of your default Gmail if the email’s destinating was originally the Google account.)</p>
<h1 id="wrapping-it-up">Wrapping It Up</h1>
<p>And there you have it! Your Gmail SMTP is now in perfect harmony with Cloudflare Email Routing. Whether you’re composing a new email or replying to an existing one, your Cloudflare address is ready for the spotlight in the From: field.</p> </div> <div class="flex flex-col justify-center items-start gap-2 self-stretch" data-astro-cid-xsct23v3> <span class="text-secondary text-4" data-astro-cid-xsct23v3>Andrew<br data-astro-cid-xsct23v3>December 26, 2023</span> <a class="text-4 font-500" href="/thoughts/" data-astro-cid-xsct23v3>&lt; Read other thoughts</a> </div> <div class="flex justify-center items-center gap-6 w-fit"> <a href="https://github.com/AndrewVota" target="_blank" aria-label="Check out my Github"><img class="w-6 h-6" src="/media/GithubIcon.svg" alt="Github"> </a> <a href="https://twitter.com/VotaAndrew" target="_blank" aria-label="Follow me on X / Twitter"><img class="w-6 h-6" src="/media/XIcon.svg" alt="X / Twitter"> </a> <a href="https://www.linkedin.com/in/andrewvota/" target="_blank" aria-label="Connect with me on LinkedIn"><img class="w-6 h-6" src="/media/LinkedInIcon.svg" alt="LinkedIn"> </a> <a href="mailto:hi@andrewvota.dev" target="_blank" aria-label="Send me an email"> <img class="w-8.1 h-6" src="/media/EmailIcon.svg" alt="Email"> </a> </div> </div> </div>  </html>